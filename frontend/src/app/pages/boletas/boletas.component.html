<div class="boletas-container" style="
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background: linear-gradient(135deg, rgba(13,27,42,0.95), rgba(27,38,59,0.95));
  border: 1px solid rgba(212,175,55,0.3);
  border-radius: 18px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.5);
  backdrop-filter: blur(10px);
  color: #f0f0f0;
  font-family: 'Poppins', 'Roboto', sans-serif;
  animation: fadeIn 0.6s ease;
">
  <h1 style="
    font-size: 2rem;
    font-weight: 700;
    color: #D4AF37;
    text-align: center;
    margin-bottom: 1.5rem;
    text-shadow: 0 0 10px rgba(212,175,55,0.7);
  ">
    âš¡ Boletas
  </h1>

  <!-- FORMULARIO -->
  <div class="form-grid" style="
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
  ">
    <label style="display: flex; flex-direction: column; font-weight: 600; color: #D4AF37;">
      ID Cliente
      <input type="number" [(ngModel)]="idCliente" (change)="guardarPref()" placeholder="Ej: 101"
             style="margin-top: 6px; background: rgba(255,255,255,0.05); border: 1px solid rgba(212,175,55,0.4);
        border-radius: 10px; padding: 10px 12px; color: #fff; font-size: 1rem; outline: none;
        transition: all 0.3s ease;">
    </label>

    <label style="display: flex; flex-direction: column; font-weight: 600; color: #D4AF37;">
      AÃ±o
      <input type="number" [(ngModel)]="anio" placeholder="Ej: 2025"
             style="margin-top: 6px; background: rgba(255,255,255,0.05); border: 1px solid rgba(212,175,55,0.4);
        border-radius: 10px; padding: 10px 12px; color: #fff; font-size: 1rem; outline: none;
        transition: all 0.3s ease;">
    </label>

    <label style="display: flex; flex-direction: column; font-weight: 600; color: #D4AF37;">
      Mes
      <input type="number" min="1" max="12" [(ngModel)]="mes" placeholder="1 - 12"
             style="margin-top: 6px; background: rgba(255,255,255,0.05); border: 1px solid rgba(212,175,55,0.4);
        border-radius: 10px; padding: 10px 12px; color: #fff; font-size: 1rem; outline: none;
        transition: all 0.3s ease;">
    </label>
  </div>

  <!-- BOTONES -->
  <div class="button-group" style="display: flex; gap: 1rem; justify-content: center;">
    <button (click)="generar()" [disabled]="loading"
            style="background: linear-gradient(90deg, #1b263b, #0d1b2a); color: white; border: none;
      border-radius: 10px; padding: 10px 20px; font-weight: 600; cursor: pointer;
      transition: all 0.3s ease;">
      âš¡ Generar Boleta
    </button>

    <button (click)="listar()" [disabled]="loading"
            style="background: #D4AF37; color: #0d1b2a; border: none; border-radius: 10px;
      padding: 10px 20px; font-weight: 600; cursor: pointer;
      transition: all 0.3s ease;">
      ğŸ”„ Actualizar
    </button>
  </div>

  <p *ngIf="msg" style="text-align: center; margin-top: 1rem; color: #ff8888;">{{ msg }}</p>
  <div *ngIf="loading" style="text-align: center; margin-top: 1rem;">â³ Cargando...</div>

  <!-- TABLA -->
  <table *ngIf="boletas.length" style="
    width: 100%; border-collapse: collapse; margin-top: 2rem; border-radius: 10px;
    overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  ">
    <tr style="background: linear-gradient(90deg, #0D1B2A, #1B263B); color: #D4AF37;">
      <th style="padding: 0.8rem; text-align: left;">ID</th>
      <th style="padding: 0.8rem; text-align: left;">Periodo</th>
      <th style="padding: 0.8rem; text-align: left;">kWh</th>
      <th style="padding: 0.8rem; text-align: left;">Total</th>
      <th style="padding: 0.8rem; text-align: left;">Acciones</th>
    </tr>
    <tr *ngFor="let b of boletas" style="background: rgba(255,255,255,0.05); border-bottom: 1px solid #333;">
      <td style="padding: 0.8rem;">{{ b.id_boleta }}</td>
      <td style="padding: 0.8rem;">{{ b.mes | number:'2.0-0' }}/{{ b.anio }}</td>
      <td style="padding: 0.8rem;">{{ b.kwh_total }}</td>
      <td style="padding: 0.8rem;">${{ b.total_pagar }}</td>
      <td style="padding: 0.8rem;">
        <button (click)="descargar(b.id_boleta)"
                style="background: #D4AF37; color: #0D1B2A; border: none; border-radius: 8px;
          padding: 6px 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
          ğŸ“„ Descargar PDF
        </button>
      </td>
    </tr>
  </table>

  <p *ngIf="!boletas.length && !loading" style="text-align: center; margin-top: 2rem; color: #ccc;">
    No hay boletas para mostrar.
  </p>
</div>

<!-- ANIMACIÃ“N -->
<style>
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
